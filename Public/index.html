<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>macOS Weather MenuBar App 作成ガイド</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.7;
            color: #1a1a1a;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #ffffff;
            min-height: 100vh;
            box-shadow: 0 0 50px rgba(0,0,0,0.1);
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 3rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .content {
            padding: 0 3rem 3rem 3rem;
        }

        .app-preview {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 20px;
            padding: 3rem;
            margin: 3rem 0;
            border: 1px solid #dee2e6;
        }

        .preview-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 2rem;
        }

        .preview-section h3 {
            color: #2c3e50;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .feature-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .feature-item {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 1rem;
            border-left: 4px solid #667eea;
        }

        .feature-item strong {
            color: #2c3e50;
            display: block;
            margin-bottom: 0.3rem;
        }

        .no-coding-tags {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: flex-start;
        }

        .tag {
            background: #e8f5e8;
            color: #2d5a2d;
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            font-weight: 500;
            border: 1px solid #c3e6c3;
            font-size: 0.9rem;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 15px;
            margin: 2rem 0;
            overflow: hidden;
        }

        .warning-header {
            background: #f39c12;
            color: white;
            padding: 1.2rem;
            font-weight: 600;
            text-align: center;
            font-size: 1.1rem;
        }

        .warning-content {
            padding: 2rem;
        }

        .warning-content p {
            margin-bottom: 1rem;
            color: #856404;
        }

        .info-box {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .info-box h4 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .comparison-grid {
            display: grid;
            gap: 1rem;
        }

        .comparison-item {
            background: #e9ecef;
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.95rem;
            color: #495057;
        }

        .step {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            margin: 3rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .step-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
        }

        .step h2 {
            color: #2c3e50;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .step h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin: 2rem 0 1rem 0;
            padding-left: 1rem;
            border-left: 4px solid #3498db;
        }

        .step h4 {
            color: #2c3e50;
            font-size: 1.1rem;
            margin: 1.5rem 0 0.8rem 0;
            font-weight: 600;
        }

        .step h5 {
            color: #34495e;
            font-size: 1rem;
            margin: 1.2rem 0 0.6rem 0;
            font-weight: 600;
            border-left: 3px solid #3498db;
            padding-left: 0.8rem;
        }

        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            background: #f1f3f4;
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.9em;
            color: #d73a49;
            border: 1px solid #e1e4e8;
        }

        pre code {
            background: none;
            padding: 0;
            border: none;
            color: #24292e;
        }

        .substep {
            background: #f8f9fa;
            border-left: 4px solid #28a745;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 12px 12px 0;
        }

        .error-example {
            background: #fff5f5;
            border-left: 4px solid #e53e3e;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 12px 12px 0;
        }

        ul, ol {
            margin: 1rem 0 1rem 2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 500;
        }

        .feature-showcase {
            background: #f0f8ff;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .feature-showcase h4 {
            color: #1e40af;
            margin-bottom: 1rem;
        }

        .best-practices {
            background: #f0fff4;
            border: 1px solid #c6f6d5;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .best-practices h4 {
            color: #276749;
            margin-bottom: 1rem;
        }

        kbd {
            background: #f1f3f4;
            border: 1px solid #c1c7cd;
            border-radius: 3px;
            box-shadow: 0 1px 0 rgba(0,0,0,0.2), 0 0 0 2px white inset;
            color: #444;
            display: inline-block;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.85em;
            font-weight: 700;
            line-height: 1;
            padding: 2px 4px;
            white-space: nowrap;
        }

        .copy-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #667eea;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 500;
            transition: all 0.2s ease;
            z-index: 10;
        }

        .copy-button:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }

        .copy-button.copied {
            background: #48bb78;
        }

        .copyable-code {
            position: relative;
        }

        .copyable-code pre {
            padding-top: 3rem;
        }

        @media (max-width: 768px) {
            .container {
                margin: 0;
            }
            
            .hero {
                padding: 3rem 2rem;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .content {
                padding: 0 2rem 2rem 2rem;
            }
            
            .preview-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .step {
                padding: 2rem;
            }

            .copy-button {
                top: 0.5rem;
                right: 0.5rem;
                padding: 0.4rem 0.8rem;
                font-size: 0.7rem;
            }
        }

        .toc {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
            margin: 3rem 0;
            border: 1px solid #dee2e6;
        }

        .toc h3 {
            color: #667eea;
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.5rem;
        }

        .toc-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: repeat(4, 1fr);
            grid-auto-flow: column;
            gap: 1rem;
        }

        .toc-item {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .toc-item a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .toc-item a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>macOS Weather MenuBar App 作成ガイド</h1>
            <p>Claude CodeとXcodeを使用して、メニューバーに現在気温を表示するmacOSアプリを作成する完全ガイド</p>
        </div>

        <div class="content">
            <div class="app-preview">
                <div class="preview-grid">
                    <div class="preview-section">
                        <h3>完成イメージ</h3>
                        <div class="feature-list">
                            <div class="feature-item">
                                <strong>☀️ 30.4°C 渋谷</strong><br>
                                メニューバーに天気アイコン、詳細気温、地点名を表示
                            </div>
                            <div class="feature-item">
                                <strong>詳細情報表示</strong><br>
                                体感温度、湿度、風速、気圧などをクリックで確認
                            </div>
                            <div class="feature-item">
                                <strong>自動更新機能</strong><br>
                                10分ごとに最新の気象情報に自動更新
                            </div>
                        </div>
                    </div>
                    
                    <div class="preview-section">
                        <h3>プログラミング不要</h3>
                        <div class="no-coding-tags">
                            <div class="tag">AIが全コード生成</div>
                            <div class="tag">エラー修正も自動</div>
                            <div class="tag">手動編集なし</div>
                            <div class="tag">学習体験</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <div class="warning-header">開始前の重要事項</div>
                <div class="warning-content">
                    <p><strong>Claude Pro推奨:</strong> 大量のトークンを消費するため、<span class="highlight">Claude Pro</span>での利用を強く推奨します。無料版では制限により作業が中断される可能性があります。</p>
                    <p><strong>クレジットカード必須:</strong> OpenWeatherMap APIは無料プランでも本人確認のためクレジットカード情報が必要です。</p>
                    <p><strong>所要時間:</strong> 約1-2時間（初回環境セットアップ含む）</p>
                </div>
            </div>

            <div class="info-box">
                <h4>macOS標準機能との比較</h4>
                <p>macOSには標準で天気表示機能があります（システム設定 > コントロールセンター > 天気）。しかし、このガイドで作成するアプリには以下の利点があります：</p>
                <div class="comparison-grid">
                    <div class="comparison-item">✓ カスタマイズ可能（表示内容、更新間隔など）</div>
                    <div class="comparison-item">✓ プログラミング学習体験</div>
                    <div class="comparison-item">✓ 独自の機能拡張が可能</div>
                </div>
                <p style="font-style: italic; margin-top: 1rem; color: #6c757d;">学習目的や、より柔軟な天気アプリをお望みの方におすすめです。</p>
            </div>

            <div class="toc">
                <h3>手順一覧</h3>
                <div class="toc-grid">
                    <div class="toc-item"><a href="#step1">手順1: 環境セットアップ</a></div>
                    <div class="toc-item"><a href="#step2">手順2: プロジェクト作成</a></div>
                    <div class="toc-item"><a href="#step3">手順3: アイコン準備</a></div>
                    <div class="toc-item"><a href="#step4">手順4: Xcodeセットアップ</a></div>
                    <div class="toc-item"><a href="#step5">手順5: エラー修正</a></div>
                    <div class="toc-item"><a href="#step6">手順6: ビルド・実行</a></div>
                    <div class="toc-item"><a href="#step7">手順7: 機能拡張</a></div>
                    <div class="toc-item"><a href="#step8">手順8: アプリ配布</a></div>
                </div>
            </div>

            <div class="step" id="step1">
                <div class="step-number">1</div>
                <h2>環境セットアップ</h2>
                
                <h3>1.1 前提条件</h3>
                <div class="substep">
                    <h4>必要なツール</h4>
                    <ul>
                        <li><strong>macOS</strong> (Ventura 13.0以降推奨)</li>
                        <li><strong>Xcode</strong> (最新版)</li>
                        <li><strong>Node.js</strong> (Claude Code実行に必要)</li>
                        <li><strong>Claude Code CLI</strong></li>
                    </ul>
                    
                    <h4>必要なアカウント</h4>
                    <ul>
                        <li><strong>OpenWeatherMap</strong> アカウント（API利用のため）</li>
                        <li><strong>クレジットカード</strong>（無料プランでも本人確認のために必須）</li>
                    </ul>
                </div>

                <h3>1.2 ターミナルの起動</h3>
                <div class="substep">
                    <h4>ターミナルを開く方法</h4>
                    <ul>
                        <li><strong>方法1:</strong> <kbd>⌘ + Space</kbd> でSpotlight検索を開き、「ターミナル」と入力してEnter</li>
                        <li><strong>方法2:</strong> Finder → アプリケーション → ユーティリティ → ターミナル</li>
                        <li><strong>方法3:</strong> Launchpad → その他 → ターミナル</li>
                    </ul>
                </div>

                <h3>1.3 Node.jsのインストール</h3>
                <div class="substep">
                    <h4>Homebrewのインストール（未インストールの場合）</h4>
                    <p>ターミナルで以下のコマンドを実行：</p>
                    <div class="copyable-code">
                        <button class="copy-button" onclick="copyToClipboard(this, 'homebrew-install')">📋 コピー</button>
                        <pre><code id="homebrew-install">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code></pre>
                    </div>
                </div>

                <div class="substep">
                    <h4>Node.jsのインストール</h4>
                    <div class="copyable-code">
                        <button class="copy-button" onclick="copyToClipboard(this, 'node-install')">📋 コピー</button>
                        <pre><code id="node-install"># Homebrewを使用してNode.jsをインストール
brew install node

# インストール確認
node --version
npm --version</code></pre>
                    </div>
                    <p>正常にインストールされると、バージョン番号が表示されます（例：v20.11.0）</p>
                </div>

                <h3>1.4 Claude Codeのインストール</h3>
                <div class="substep">
                    <h4>npmを使用してインストール</h4>
                    <div class="copyable-code">
                        <button class="copy-button" onclick="copyToClipboard(this, 'claude-install')">📋 コピー</button>
                        <pre><code id="claude-install"># グローバルインストール
npm install -g @anthropic-ai/claude-code

# インストール確認
claude --version</code></pre>
                    </div>
                </div>

                <div class="info-box">
                    <h4>💻 ターミナル操作の基本</h4>
                    <ul>
                        <li><strong>コマンド入力:</strong> コマンドを入力してEnterキーを押す</li>
                        <li><strong>現在位置確認:</strong> <code>pwd</code> コマンドで現在のディレクトリを確認</li>
                        <li><strong>ディレクトリ移動:</strong> <code>cd ディレクトリ名</code> で移動</li>
                        <li><strong>ファイル一覧:</strong> <code>ls</code> コマンドでファイル一覧を表示</li>
                        <li><strong>ターミナル終了:</strong> <kbd>⌘ + Q</kbd> または「exit」コマンド</li>
                    </ul>
                </div>

                <h3>1.5 OpenWeatherMap APIキーの取得</h3>
                <div class="substep">
                    <ol>
                        <li><a href="https://openweathermap.org/" target="_blank">OpenWeatherMap</a> にアクセス</li>
                        <li>アカウント登録（Sign Up）
                            <ul>
                                <li>Username: 任意</li>
                                <li>Email: メールアドレス</li>
                                <li>Password: パスワード</li>
                                <li>Age: 16歳以上を選択</li>
                            </ul>
                        </li>
                        <li>メール認証を完了</li>
                        <li><strong>One Call API 3.0</strong> を選択
                            <ul>
                                <li><strong>Free プラン</strong> を選択（1,000 calls/day）</li>
                                <li><strong>重要:</strong> 無料プランでも<strong>クレジットカード情報の入力が必須</strong>です</li>
                                <li>カード情報は本人確認のために必要で、無料枠内では課金されません</li>
                            </ul>
                        </li>
                        <li>用途選択
                            <ul>
                                <li>Company: 空欄または「Personal」</li>
                                <li>Purpose: <strong>Other</strong> を選択</li>
                            </ul>
                        </li>
                        <li>APIキーをコピー（例：<code>a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6</code> ※これは架空の例です）</li>
                    </ol>

                    <div class="warning-box">
                        <div class="warning-content">
                            <h4>注意事項</h4>
                            <ul>
                                <li>クレジットカード情報は無料プランでも必須要件です</li>
                                <li>1日1,000回のAPI呼び出しまでは完全無料です</li>
                                <li>制限を超過した場合のみ課金が発生します</li>
                                <li>このアプリでは10分間隔の更新なので、1日144回程度の呼び出しとなり、無料枠で十分です</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step" id="step2">
                <div class="step-number">2</div>
                <h2>プロジェクト作成</h2>

                <h3>2.1 作業ディレクトリの準備</h3>
                <div class="substep">
                    <h4>適切な場所を選択</h4>
                    <p>開発プロジェクトは整理して管理することが重要です。以下は推奨する場所の<strong>一例</strong>です：</p>
                    <ul>
                        <li><code>~/Documents/Development/</code> （開発用フォルダ - このガイドでの例）</li>
                        <li><code>~/Projects/</code> （プロジェクト専用フォルダ）</li>
                        <li><code>~/Desktop/</code> （一時的な作業の場合）</li>
                        <li><code>~/MyApps/</code> （オリジナルのフォルダ名でも可能）</li>
                    </ul>
                    
                    <div class="info-box">
                        <h4>🎨 フォルダ名は自由にカスタマイズ可能</h4>
                        <p><strong>重要:</strong> このガイドでは<code>~/Documents/Development/</code>を例として使用しますが、<strong>お好みの場所とフォルダ名で作成できます。</strong></p>
                        <ul>
                            <li><strong>例1:</strong> <code>~/Code/WeatherApp/</code></li>
                            <li><strong>例2:</strong> <code>~/Programming/MyWeatherApp/</code></li>
                            <li><strong>例3:</strong> <code>~/Desktop/WeatherProject/</code></li>
                        </ul>
                        <p>フォルダ名は<strong>英数字のみ</strong>を使用し、日本語や特殊文字は避けてください。</p>
                    </div>
                </div>

                <div class="substep">
                    <h4>ターミナルでのディレクトリ作成（詳細解説）</h4>
                    
                    <div class="info-box">
                        <h4>🎯 この作業の目的</h4>
                        <p>プロジェクト専用のフォルダを作成し、そこでClaude Codeを起動することで、生成されるファイルが整理され、管理しやすくなります。</p>
                    </div>

                    <div class="warning-box">
                        <div class="warning-header">📁 フォルダ構成について</div>
                        <div class="warning-content">
                            <p>以下の手順は<strong>一例</strong>です。お好みの場所にフォルダを作成して構いません。</p>
                            <ul>
                                <li><strong>この例:</strong> <code>~/Documents/Development/WeatherMenuBar/</code></li>
                                <li><strong>別の例:</strong> <code>~/Desktop/MyWeatherApp/</code> でも同様に作成可能</li>
                                <li><strong>重要:</strong> 最終的にWeatherMenuBarフォルダ内でClaude Codeを起動することが目標です</li>
                            </ul>
                        </div>
                    </div>

                    <h5><strong>ステップ1:</strong> ターミナルを開く</h5>
                    <ul>
                        <li><kbd>⌘ + Space</kbd>キーを押してSpotlight検索を開く</li>
                        <li>「ターミナル」と入力してEnterキーを押す</li>
                        <li>黒い画面（ターミナル）が開きます</li>
                    </ul>

                    <h5><strong>ステップ2:</strong> 現在位置を確認</h5>
                    <div class="substep">
                        <p>まず、今どこにいるかを確認しましょう：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'pwd-command')">📋 コピー</button>
                            <pre><code id="pwd-command">pwd</code></pre>
                        </div>
                        <div class="feature-showcase">
                            <h4>📝 コマンドの意味</h4>
                            <ul>
                                <li><code>pwd</code> = "print working directory"（現在の作業ディレクトリを表示する）</li>
                                <li>今自分がどのフォルダにいるかを教えてくれるコマンドです</li>