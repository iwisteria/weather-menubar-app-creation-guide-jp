<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>macOS Weather MenuBar App 作成ガイド</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.7;
            color: #1a1a1a;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #ffffff;
            min-height: 100vh;
            box-shadow: 0 0 50px rgba(0,0,0,0.1);
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 3rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .content {
            padding: 0 3rem 3rem 3rem;
        }

        .app-preview {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 20px;
            padding: 3rem;
            margin: 3rem 0;
            border: 1px solid #dee2e6;
        }

        .preview-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 2rem;
        }

        .preview-section h3 {
            color: #2c3e50;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .feature-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .feature-item {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 1rem;
            border-left: 4px solid #667eea;
        }

        .feature-item strong {
            color: #2c3e50;
            display: block;
            margin-bottom: 0.3rem;
        }

        .no-coding-tags {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: flex-start;
        }

        .tag {
            background: #e8f5e8;
            color: #2d5a2d;
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            font-weight: 500;
            border: 1px solid #c3e6c3;
            font-size: 0.9rem;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 15px;
            margin: 2rem 0;
            overflow: hidden;
        }

        .warning-header {
            background: #f39c12;
            color: white;
            padding: 1.2rem;
            font-weight: 600;
            text-align: center;
            font-size: 1.1rem;
        }

        .warning-content {
            padding: 2rem;
        }

        .warning-content p {
            margin-bottom: 1rem;
            color: #856404;
        }

        .info-box {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .info-box h4 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .comparison-grid {
            display: grid;
            gap: 1rem;
        }

        .comparison-item {
            background: #e9ecef;
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.95rem;
            color: #495057;
        }

        .step {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            margin: 3rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .step-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
        }

        .step h2 {
            color: #2c3e50;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .step h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin: 2rem 0 1rem 0;
            padding-left: 1rem;
            border-left: 4px solid #3498db;
        }

        .step h4 {
            color: #2c3e50;
            font-size: 1.1rem;
            margin: 1.5rem 0 0.8rem 0;
            font-weight: 600;
        }

        .step h5 {
            color: #34495e;
            font-size: 1rem;
            margin: 1.2rem 0 0.6rem 0;
            font-weight: 600;
            border-left: 3px solid #3498db;
            padding-left: 0.8rem;
        }

        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            background: #f1f3f4;
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.9em;
            color: #d73a49;
            border: 1px solid #e1e4e8;
        }

        pre code {
            background: none;
            padding: 0;
            border: none;
            color: #24292e;
        }

        .substep {
            background: #f8f9fa;
            border-left: 4px solid #28a745;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 12px 12px 0;
        }

        .error-example {
            background: #fff5f5;
            border-left: 4px solid #e53e3e;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 12px 12px 0;
        }

        ul, ol {
            margin: 1rem 0 1rem 2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 500;
        }

        .feature-showcase {
            background: #f0f8ff;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .feature-showcase h4 {
            color: #1e40af;
            margin-bottom: 1rem;
        }

        .best-practices {
            background: #f0fff4;
            border: 1px solid #c6f6d5;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .best-practices h4 {
            color: #276749;
            margin-bottom: 1rem;
        }

        kbd {
            background: #f1f3f4;
            border: 1px solid #c1c7cd;
            border-radius: 3px;
            box-shadow: 0 1px 0 rgba(0,0,0,0.2), 0 0 0 2px white inset;
            color: #444;
            display: inline-block;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.85em;
            font-weight: 700;
            line-height: 1;
            padding: 2px 4px;
            white-space: nowrap;
        }

        .copy-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #667eea;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 500;
            transition: all 0.2s ease;
            z-index: 10;
        }

        .copy-button:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }

        .copy-button.copied {
            background: #48bb78;
        }

        .copyable-code {
            position: relative;
        }

        .copyable-code pre {
            padding-top: 3rem;
        }

        @media (max-width: 768px) {
            .container {
                margin: 0;
            }
            
            .hero {
                padding: 3rem 2rem;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .content {
                padding: 0 2rem 2rem 2rem;
            }
            
            .preview-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .step {
                padding: 2rem;
            }

            .copy-button {
                top: 0.5rem;
                right: 0.5rem;
                padding: 0.4rem 0.8rem;
                font-size: 0.7rem;
            }
        }

        .toc {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
            margin: 3rem 0;
            border: 1px solid #dee2e6;
        }

        .toc h3 {
            color: #667eea;
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.5rem;
        }

        .toc-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: repeat(4, 1fr);
            grid-auto-flow: column;
            gap: 1rem;
        }

        .toc-item {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .toc-item a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .toc-item a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>macOS Weather MenuBar App 作成ガイド</h1>
            <p>Claude CodeとXcodeを使用して、メニューバーに現在気温を表示するmacOSアプリを作成する完全ガイド</p>
        </div>

        <div class="content">
            <div class="app-preview">
                <div class="preview-grid">
                    <div class="preview-section">
                        <h3>完成イメージ</h3>
                        <div class="feature-list">
                            <div class="feature-item">
                                <strong>🌙 30.4°C 渋谷</strong><br>
                                メニューバーに天気アイコン、詳細気温、地点名を表示
                            </div>
                            <div class="feature-item">
                                <strong>詳細情報表示</strong><br>
                                体感温度、湿度、風速、気圧などをクリックで確認
                            </div>
                            <div class="feature-item">
                                <strong>自動更新機能</strong><br>
                                10分ごとに最新の気象情報に自動更新
                            </div>
                        </div>
                    </div>
                    
                    <div class="preview-section">
                        <h3>プログラミング不要</h3>
                        <div class="no-coding-tags">
                            <div class="tag">AIが全コード生成</div>
                            <div class="tag">エラー修正も自動</div>
                            <div class="tag">手動編集なし</div>
                            <div class="tag">学習体験</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <div class="warning-header">開始前の重要事項</div>
                <div class="warning-content">
                    <p><strong>Claude Pro推奨:</strong> 大量のトークンを消費するため、<span class="highlight">Claude Pro</span>での利用を強く推奨します。無料版では制限により作業が中断される可能性があります。</p>
                    <p><strong>クレジットカード必須:</strong> OpenWeatherMap APIは無料プランでも本人確認のためクレジットカード情報が必要です。</p>
                    <p><strong>所要時間:</strong> 約1-2時間（初回環境セットアップ含む）</p>
                </div>
            </div>

            <div class="info-box">
                <h4>macOS標準機能との比較</h4>
                <p>macOSには標準で天気表示機能があります（システム設定 > コントロールセンター > 天気）。しかし、このガイドで作成するアプリには以下の利点があります：</p>
                <div class="comparison-grid">
                    <div class="comparison-item">✓ カスタマイズ可能（表示内容、更新間隔など）</div>
                    <div class="comparison-item">✓ プログラミング学習体験</div>
                    <div class="comparison-item">✓ 独自の機能拡張が可能</div>
                </div>
                <p style="font-style: italic; margin-top: 1rem; color: #6c757d;">学習目的や、より柔軟な天気アプリをお望みの方におすすめです。</p>
            </div>

            <div class="toc">
                <h3>手順一覧</h3>
                <div class="toc-grid">
                    <div class="toc-item"><a href="#step1">手順1: 環境セットアップ</a></div>
                    <div class="toc-item"><a href="#step2">手順2: プロジェクト作成</a></div>
                    <div class="toc-item"><a href="#step3">手順3: アイコン準備</a></div>
                    <div class="toc-item"><a href="#step4">手順4: Xcodeセットアップ</a></div>
                    <div class="toc-item"><a href="#step5">手順5: エラー修正</a></div>
                    <div class="toc-item"><a href="#step6">手順6: ビルド・実行</a></div>
                    <div class="toc-item"><a href="#step7">手順7: 機能拡張</a></div>
                    <div class="toc-item"><a href="#step8">手順8: アプリ配布</a></div>
                </div>
            </div>

            <div class="step" id="step1">
                <div class="step-number">1</div>
                <h2>環境セットアップ</h2>
                
                <h3>1.1 前提条件</h3>
                <div class="substep">
                    <h4>必要なツール</h4>
                    <ul>
                        <li><strong>macOS</strong> (Ventura 13.0以降推奨)</li>
                        <li><strong>Xcode</strong> (最新版)</li>
                        <li><strong>Node.js</strong> (Claude Code実行に必要)</li>
                        <li><strong>Claude Code CLI</strong></li>
                    </ul>
                    
                    <h4>必要なアカウント</h4>
                    <ul>
                        <li><strong>OpenWeatherMap</strong> アカウント（API利用のため）</li>
                        <li><strong>クレジットカード</strong>（無料プランでも本人確認のために必須）</li>
                    </ul>
                </div>

                <h3>1.2 ターミナルの起動</h3>
                <div class="substep">
                    <h4>ターミナルを開く方法</h4>
                    <ul>
                        <li><strong>方法1:</strong> <kbd>⌘ + Space</kbd> でSpotlight検索を開き、「ターミナル」と入力してEnter</li>
                        <li><strong>方法2:</strong> Finder → アプリケーション → ユーティリティ → ターミナル</li>
                        <li><strong>方法3:</strong> Launchpad → その他 → ターミナル</li>
                    </ul>
                </div>

                <h3>1.3 Node.jsのインストール</h3>
                <div class="substep">
                    <h4>Homebrewのインストール（未インストールの場合）</h4>
                    <p>ターミナルで以下のコマンドを実行：</p>
                    <pre><code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code></pre>
                </div>

                <div class="substep">
                    <h4>Node.jsのインストール</h4>
                    <pre><code># Homebrewを使用してNode.jsをインストール
brew install node

# インストール確認
node --version
npm --version</code></pre>
                    <p>正常にインストールされると、バージョン番号が表示されます（例：v20.11.0）</p>
                </div>

                <h3>1.4 Claude Codeのインストール</h3>
                <div class="substep">
                    <h4>npmを使用してインストール</h4>
                    <pre><code># グローバルインストール
npm install -g @anthropic-ai/claude-code

# インストール確認
claude --version</code></pre>
                </div>

                <div class="info-box">
                    <h4>💻 ターミナル操作の基本</h4>
                    <ul>
                        <li><strong>コマンド入力:</strong> コマンドを入力してEnterキーを押す</li>
                        <li><strong>現在位置確認:</strong> <code>pwd</code> コマンドで現在のディレクトリを確認</li>
                        <li><strong>ディレクトリ移動:</strong> <code>cd ディレクトリ名</code> で移動</li>
                        <li><strong>ファイル一覧:</strong> <code>ls</code> コマンドでファイル一覧を表示</li>
                        <li><strong>ターミナル終了:</strong> <kbd>⌘ + Q</kbd> または「exit」コマンド</li>
                    </ul>
                </div>

                <h3>1.4 OpenWeatherMap APIキーの取得</h3>
                <div class="substep">
                    <ol>
                        <li><a href="https://openweathermap.org/" target="_blank">OpenWeatherMap</a> にアクセス</li>
                        <li>アカウント登録（Sign Up）
                            <ul>
                                <li>Username: 任意</li>
                                <li>Email: メールアドレス</li>
                                <li>Password: パスワード</li>
                                <li>Age: 16歳以上を選択</li>
                            </ul>
                        </li>
                        <li>メール認証を完了</li>
                        <li><strong>One Call API 3.0</strong> を選択
                            <ul>
                                <li><strong>Free プラン</strong> を選択（1,000 calls/day）</li>
                                <li><strong>重要:</strong> 無料プランでも<strong>クレジットカード情報の入力が必須</strong>です</li>
                                <li>カード情報は本人確認のために必要で、無料枠内では課金されません</li>
                            </ul>
                        </li>
                        <li>用途選択
                            <ul>
                                <li>Company: 空欄または「Personal」</li>
                                <li>Purpose: <strong>Other</strong> を選択</li>
                            </ul>
                        </li>
                        <li>APIキーをコピー（例：<code>a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6</code> ※これは架空の例です）</li>
                    </ol>

                    <div class="warning-box">
                        <div class="warning-content">
                            <h4>注意事項</h4>
                            <ul>
                                <li>クレジットカード情報は無料プランでも必須要件です</li>
                                <li>1日1,000回のAPI呼び出しまでは完全無料です</li>
                                <li>制限を超過した場合のみ課金が発生します</li>
                                <li>このアプリでは10分間隔の更新なので、1日144回程度の呼び出しとなり、無料枠で十分です</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step" id="step2">
                <div class="step-number">2</div>
                <h2>プロジェクト作成</h2>

                <h3>2.1 作業ディレクトリの準備</h3>
                <div class="substep">
                    <h4>適切な場所を選択</h4>
                    <p>開発プロジェクトは整理して管理することが重要です。以下は推奨する場所の<strong>一例</strong>です：</p>
                    <ul>
                        <li><code>~/Documents/Development/</code> （開発用フォルダ - このガイドでの例）</li>
                        <li><code>~/Projects/</code> （プロジェクト専用フォルダ）</li>
                        <li><code>~/Desktop/</code> （一時的な作業の場合）</li>
                        <li><code>~/MyApps/</code> （オリジナルのフォルダ名でも可能）</li>
                    </ul>
                    
                    <div class="info-box">
                        <h4>🎨 フォルダ名は自由にカスタマイズ可能</h4>
                        <p><strong>重要:</strong> このガイドでは<code>~/Documents/Development/</code>を例として使用しますが、<strong>お好みの場所とフォルダ名で作成できます。</strong></p>
                        <ul>
                            <li><strong>例1:</strong> <code>~/Code/WeatherApp/</code></li>
                            <li><strong>例2:</strong> <code>~/Programming/MyWeatherApp/</code></li>
                            <li><strong>例3:</strong> <code>~/Desktop/WeatherProject/</code></li>
                        </ul>
                        <p>フォルダ名は<strong>英数字のみ</strong>を使用し、日本語や特殊文字は避けてください。</p>
                    </div>
                </div>

                <div class="substep">
                    <h4>ターミナルでのディレクトリ作成（詳細解説）</h4>
                    
                    <div class="info-box">
                        <h4>🎯 この作業の目的</h4>
                        <p>プロジェクト専用のフォルダを作成し、そこでClaude Codeを起動することで、生成されるファイルが整理され、管理しやすくなります。</p>
                    </div>

                    <div class="warning-box">
                        <div class="warning-header">📁 フォルダ構成について</div>
                        <div class="warning-content">
                            <p>以下の手順は<strong>一例</strong>です。お好みの場所にフォルダを作成して構いません。</p>
                            <ul>
                                <li><strong>この例:</strong> <code>~/Documents/Development/WeatherMenuBar/</code></li>
                                <li><strong>別の例:</strong> <code>~/Desktop/MyWeatherApp/</code> でも同様に作成可能</li>
                                <li><strong>重要:</strong> 最終的にWeatherMenuBarフォルダ内でClaude Codeを起動することが目標です</li>
                            </ul>
                        </div>
                    </div>

                    <h5><strong>ステップ1:</strong> ターミナルを開く</h5>
                    <ul>
                        <li><kbd>⌘ + Space</kbd>キーを押してSpotlight検索を開く</li>
                        <li>「ターミナル」と入力してEnterキーを押す</li>
                        <li>黒い画面（ターミナル）が開きます</li>
                    </ul>

                    <h5><strong>ステップ2:</strong> 現在位置を確認</h5>
                    <div class="substep">
                        <p>まず、今どこにいるかを確認しましょう：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'pwd-command')">📋 コピー</button>
                            <pre><code id="pwd-command">pwd</code></pre>
                        </div>
                        <div class="feature-showcase">
                            <h4>📝 コマンドの意味</h4>
                            <ul>
                                <li><code>pwd</code> = "print working directory"（現在の作業ディレクトリを表示する）</li>
                                <li>今自分がどのフォルダにいるかを教えてくれるコマンドです</li>
                            </ul>
                        </div>
                        <p>このコマンドを入力してEnterを押すと、現在位置が表示されます（例：<code>/Users/あなたの名前</code>）</p>
                    </div>

                    <h5><strong>ステップ3:</strong> Documentsフォルダに移動</h5>
                    <div class="substep">
                        <p>以下のコマンドを入力してEnterを押します：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'cd-documents')">📋 コピー</button>
                            <pre><code id="cd-documents">cd ~/Documents</code></pre>
                        </div>
                        <div class="feature-showcase">
                            <h4>📝 コマンドの意味</h4>
                            <ul>
                                <li><code>cd</code> = "change directory"（ディレクトリを変更する）</li>
                                <li><code>~</code> = あなたのホームフォルダを表す記号</li>
                                <li><code>~/Documents</code> = あなたのDocumentsフォルダ</li>
                            </ul>
                        </div>
                    </div>

                    <h5><strong>ステップ4:</strong> 開発用フォルダを作成</h5>
                    <div class="substep">
                        <p>以下のコマンドを入力してEnterを押します：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'mkdir-development')">📋 コピー</button>
                            <pre><code id="mkdir-development">mkdir -p Development</code></pre>
                        </div>
                        <div class="feature-showcase">
                            <h4>📝 コマンドの意味</h4>
                            <ul>
                                <li><code>mkdir</code> = "make directory"（フォルダを作成する）</li>
                                <li><code>-p</code> = すでにフォルダが存在していてもエラーにならない</li>
                                <li><code>Development</code> = 作成するフォルダの名前</li>
                            </ul>
                        </div>
                    </div>

                    <h5><strong>ステップ5:</strong> 開発用フォルダに移動</h5>
                    <div class="substep">
                        <p>作成したDevelopmentフォルダに移動します：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'cd-development')">📋 コピー</button>
                            <pre><code id="cd-development">cd Development</code></pre>
                        </div>
                    </div>

                    <h5><strong>ステップ6:</strong> プロジェクト専用フォルダを作成</h5>
                    <div class="substep">
                        <p>天気アプリ専用のフォルダを作成します：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'mkdir-project')">📋 コピー</button>
                            <pre><code id="mkdir-project">mkdir WeatherMenuBar</code></pre>
                        </div>
                    </div>

                    <h5><strong>ステップ7:</strong> プロジェクトフォルダに移動</h5>
                    <div class="substep">
                        <p>作成したプロジェクトフォルダに移動します：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'cd-project')">📋 コピー</button>
                            <pre><code id="cd-project">cd WeatherMenuBar</code></pre>
                        </div>
                    </div>

                    <h5><strong>ステップ8:</strong> 最終確認</h5>
                    <div class="substep">
                        <p>正しい場所にいるか確認します：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'pwd-final')">📋 コピー</button>
                            <pre><code id="pwd-final">pwd</code></pre>
                        </div>
                        <div class="info-box">
                            <h4>💡 確認のポイント</h4>
                            <p><code>pwd</code>コマンド（"print working directory"）で現在位置を確認し、以下のような表示になれば成功です：</p>
                            <p><code>/Users/あなたの名前/Documents/Development/WeatherMenuBar</code></p>
                        </div>
                    </div>

                    <div class="best-practices">
                        <h4>💡 成功のコツ</h4>
                        <ul>
                            <li><strong>1つずつ実行:</strong> コマンドは1行ずつ、順番に実行してください</li>
                            <li><strong>大文字小文字に注意:</strong> <code>Development</code>と<code>development</code>は別のものです</li>
                            <li><strong>エラーが出たら:</strong> もう一度最初からやり直してください</li>
                            <li><strong>コピペ推奨:</strong> コマンドはコピペして入力ミスを防いでください</li>
                        </ul>
                    </div>

                    <p><strong>重要:</strong> プロジェクト名に日本語や特殊文字を使わず、英数字のみを使用してください。Xcodeとの互換性を確保するためです。</p>
                </div>

                <div class="warning-box">
                    <div class="warning-header">ターミナル操作のポイント</div>
                    <div class="warning-content">
                        <ul>
                            <li><strong>コマンドのコピー:</strong> 上記のコマンドを1行ずつコピーして、ターミナルに貼り付けて実行</li>
                            <li><strong>エラーが出た場合:</strong> コマンドの打ち間違いがないか確認。わからない場合は最初からやり直す</li>
                            <li><strong>ディレクトリの確認:</strong> <code>pwd</code>コマンドで現在位置を確認できます</li>
                        </ul>
                    </div>
                </div>

                <h3>2.2 ターミナルでClaude Codeの起動</h3>
                <div class="substep">
                    <h4>Claude Codeの起動手順</h4>
                    <p><strong>重要:</strong> WeatherMenuBarディレクトリ内にいることを確認してから実行してください。</p>
                    <div class="copyable-code">
                        <button class="copy-button" onclick="copyToClipboard(this, 'claude-start')">📋 コピー</button>
                        <pre><code id="claude-start">claude</code></pre>
                    </div>
                    
                    <h4>起動時の画面について</h4>
                    <p>Claude Codeが正常に起動すると、ターミナルに以下のような表示が現れます：</p>
                    <ul>
                        <li>Claude Codeのロゴとバージョン情報</li>
                        <li>現在のディレクトリパス（/Users/ユーザー名/Documents/Development/WeatherMenuBar）</li>
                        <li>プロンプト（入力待ち状態）: <code>></code> または類似の記号</li>
                    </ul>
                    
                    <p><strong>注意:</strong> Claude Codeが起動すると、ターミナルの表示が変わります。これは正常な動作です。</p>
                </div>

                <div class="best-practices">
                    <h4>💡 Claude Code使用のコツ</h4>
                    <ul>
                        <li><strong>具体的な指示:</strong> 曖昧な表現ではなく、具体的な要件を明確に伝える</li>
                        <li><strong>段階的なアプローチ:</strong> 複雑な機能は段階的に実装を依頼する</li>
                        <li><strong>エラー報告:</strong> エラーが発生したら、エラーメッセージをそのまま貼り付ける</li>
                        <li><strong>コンテキスト保持:</strong> 同じセッション内では前の会話内容を参照してくれる</li>
                    </ul>
                </div>

                <h3>2.3 プロジェクト生成の詳細指示</h3>
                <div class="substep">
                    <h4>指示内容の構成について</h4>
                    <p>以下の指示は、Claude Codeが完璧なSwiftプロジェクトを生成するために必要な全ての情報を含んでいます：</p>
                    <ul>
                        <li><strong>要件セクション:</strong> アプリの基本機能と動作</li>
                        <li><strong>技術仕様:</strong> 使用する技術スタックとAPI</li>
                        <li><strong>実装方針:</strong> 後から設定する項目の明確化</li>
                    </ul>
                </div>

                <div class="feature-showcase">
                    <h4>📋 Claude Codeに送信する指示</h4>
                    <p><strong>重要:</strong> 以下のテキストをそのままコピーして、Claude Codeのプロンプトに貼り付けてください。</p>
                </div>

                <div class="error-example copyable-code">
                    <button class="copy-button" onclick="copyToClipboard(this, 'claude-instruction')">📋 コピー</button>
                    <pre><code id="claude-instruction">macOSのメニューバーに現在の気温を表示するSwiftアプリを作成してください。

要件：
1. NSStatusItemを使ってメニューバーに気温を小数点第一位まで表示（例：23.5°C）
2. OpenWeatherMap One Call API 3.0を使用して渋谷の気温を取得
3. 10分ごとに自動更新
4. メニューバーアイコンをクリックすると詳細な天気情報（湿度、風速など）を表示
5. アプリはバックグラウンドで動作（ドックに表示されない）
6. 自作アイコン用のAssets.xcassetsを準備（空のAppIconセット）

技術仕様：
- SwiftUI + AppKit
- URLSession for API calls  
- Timer for auto-refresh
- 温度単位：摂氏（小数点第一位まで表示）
- 渋谷の座標：lat=35.6583, lon=139.6972

APIキーは後で設定し、アイコンも後から自作のものを追加します。気温は最初から小数点第一位まで表示するよう設定してください。</code></pre>
                </div>

                <div class="info-box">
                    <h4>⏱️ 予想される処理時間</h4>
                    <p>Claude Codeがプロジェクトを生成する際の目安時間：</p>
                    <ul>
                        <li><strong>プロジェクト構造作成:</strong> 30秒〜1分</li>
                        <li><strong>コード生成:</strong> 2〜5分</li>
                        <li><strong>ファイル配置:</strong> 30秒〜1分</li>
                    </ul>
                    <p><strong>合計:</strong> 約3〜7分程度でプロジェクト全体が完成します。</p>
                </div>

                <div class="warning-box">
                    <div class="warning-header">生成中の注意事項</div>
                    <div class="warning-content">
                        <ul>
                            <li>Claude Codeの処理中は他の操作を行わないでください</li>
                            <li>ネットワークエラーが発生した場合は、同じ指示を再度送信してください</li>
                            <li>生成されたファイルは手動で編集せず、修正はClaude Codeに依頼してください</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="step" id="step3">
                <div class="step-number">3</div>
                <h2>アプリアイコンの準備</h2>

                <h3>3.1 アイコンデザインの作成</h3>
                <p>1024x1024pxの正方形で天気アプリ用のアイコンを作成してください。</p>

                <div class="substep">
                    <h4>推奨デザインツール</h4>
                    <ul>
                        <li>Canva（オンライン、無料）</li>
                        <li>Figma（オンライン、無料）</li>
                        <li>Photoshop / Illustrator（有料）</li>
                    </ul>

                    <h4>デザインのアイデア</h4>
                    <ul>
                        <li>温度計のシンプルなイラスト</li>
                        <li>天気記号（雲、太陽、雨など）</li>
                        <li>地域の特色を表現した要素</li>
                        <li>ミニマルで視認性の良いデザイン</li>
                    </ul>
                </div>

                <h3>3.2 アイコンファイルの保存</h3>
                <div class="substep">
                    <ul>
                        <li>ファイル形式：PNG</li>
                        <li>サイズ：1024x1024px</li>
                        <li>ファイル名：app-icon.png（わかりやすい名前）</li>
                    </ul>
                </div>
            </div>

            <div class="step" id="step4">
                <div class="step-number">4</div>
                <h2>Xcodeでプロジェクトを開く</h2>

                <h3>4.1 プロジェクトを開く</h3>
                <div class="copyable-code">
                    <button class="copy-button" onclick="copyToClipboard(this, 'xcode-open')">📋 コピー</button>
                    <pre><code id="xcode-open"># Xcodeでプロジェクトを開く
open WeatherMenuBar.xcodeproj</code></pre>
                </div>

                <h3>4.2 アプリアイコンの設定</h3>
                <div class="substep">
                    <ol>
                        <li>Xcodeの左側プロジェクトナビゲーターで<strong>Assets.xcassets</strong>を選択</li>
                        <li><strong>AppIcon</strong>をクリック</li>
                        <li>準備した1024x1024pxのアイコンファイルを、<strong>1024pt</strong>のスロットにドラッグ&ドロップ</li>
                        <li>Xcodeが自動的に他のサイズを生成してくれます</li>
                    </ol>
                </div>

                <h3>4.3 APIキーの設定</h3>
                <div class="substep">
                    <ol>
                        <li><strong>Services</strong> → <strong>WeatherService</strong> ファイルを開く</li>
                        <li>以下の行を探す：
                            <pre><code>private let apiKey = "YOUR_API_KEY_HERE"</code></pre>
                        </li>
                        <li>取得したAPIキーに置き換える（※下記は架空の例です。実際のAPIキーを使用してください）：
                            <pre><code>private let apiKey = "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"</code></pre>
                        </li>
                    </ol>
                </div>

                <h3>4.4 気温取得地点の変更（オプション）</h3>
                <div class="substep">
                    <p>デフォルトでは渋谷の気温を取得しますが、お好みの地点に変更することができます。</p>
                    
                    <h4>座標の変更方法</h4>
                    
                    <h5><strong>方法1: Claude Codeに依頼する（推奨）</strong></h5>
                    <div class="feature-showcase">
                        <h4>🤖 Claude Codeへの依頼例</h4>
                        <p>以下のようにClaude Codeに依頼することで、自動的に座標を変更できます：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'claude-location-change')">📋 コピー</button>
                            <pre><code id="claude-location-change">WeatherServiceファイルで、気温取得地点を新宿に変更してください。

現在の座標：
- 渋谷: lat=35.6583, lon=139.6972

変更後の座標：  
- 新宿: lat=35.6896, lon=139.6917

座標の変更を行い、コメントも適切に更新してください。</code></pre>
                        </div>
                        
                        <div class="info-box">
                            <h4>💡 他の地点への変更例</h4>
                            <ul>
                                <li><strong>池袋の場合:</strong> 「気温取得地点を池袋（lat=35.7295, lon=139.7109）に変更してください」</li>
                                <li><strong>大阪梅田の場合:</strong> 「気温取得地点を大阪梅田（lat=34.7024, lon=135.4937）に変更してください」</li>
                                <li><strong>任意の座標:</strong> 「気温取得地点を（lat=○○, lon=○○）に変更してください」</li>
                            </ul>
                        </div>
                    </div>

                    <h5><strong>方法2: 手動での変更</strong></h5>
                    <ol>
                        <li><strong>Services</strong> → <strong>WeatherService</strong> ファイル内で以下の行を探す：
                            <pre><code>private let latitude = 35.6583    // 渋谷の緯度
private let longitude = 139.6972   // 渋谷の経度</code></pre>
                        </li>
                        <li>変更したい地点の座標に置き換える（例：新宿の場合）：
                            <pre><code>private let latitude = 35.6896    // 新宿の緯度  
private let longitude = 139.6917   // 新宿の経度</code></pre>
                        </li>
                    </ol>

                    <h4>主要地点の座標例</h4>
                    <div class="info-box">
                        <ul>
                            <li><strong>渋谷:</strong> lat=35.6583, lon=139.6972</li>
                            <li><strong>新宿:</strong> lat=35.6896, lon=139.6917</li>
                            <li><strong>池袋:</strong> lat=35.7295, lon=139.7109</li>
                            <li><strong>品川:</strong> lat=35.6284, lon=139.7387</li>
                            <li><strong>大阪梅田:</strong> lat=34.7024, lon=135.4937</li>
                            <li><strong>札幌:</strong> lat=43.0642, lon=141.3469</li>
                            <li><strong>福岡天神:</strong> lat=33.5904, lon=130.4017</li>
                        </ul>
                    </div>

                    <div class="feature-showcase">
                        <h4>🌍 座標の調べ方</h4>
                        
                        <h5><strong>方法1: Claude Codeに質問する（推奨）</strong></h5>
                        <p>Claude Codeにweb_searchを使用した検索を依頼することで、最新かつ正確な座標を取得できます：</p>
                        <div class="copyable-code">
                            <button class="copy-button" onclick="copyToClipboard(this, 'claude-coordinate-query')">📋 コピー</button>
                            <pre><code id="claude-coordinate-query">web_searchで「横浜駅 緯度経度 座標」を検索し、lat=○○, lon=○○形式（小数点4桁）で回答してください。</code></pre>
                        </div>
                        
                        <div class="info-box">
                            <h4>💡 Claude Codeへの質問例</h4>
                            <ul>
                                <li>「web_searchで「名古屋駅 緯度経度 座標」を検索し、lat=○○, lon=○○形式（小数点4桁）で回答してください」</li>
                                <li>「web_searchで「京都駅 緯度経度 座標」を検索し、lat=○○, lon=○○形式（小数点4桁）で回答してください」</li>
                                <li>「web_searchで「仙台駅 緯度経度 座標」を検索し、lat=○○, lon=○○形式（小数点4桁）で回答してください」</li>
                                <li>「web_searchで「那覇空港 緯度経度 座標」を検索し、lat=○○, lon=○○形式（小数点4桁）で回答してください」</li>
                            </ul>
                            <p><strong>メリット:</strong> 最新のweb検索結果に基づく正確な座標が、コード形式でそのまま使用可能</p>
                            <p><strong>トークン消費:</strong> web_search機能を使用するため、通常の質問より多くのトークンを消費します（体感で3-5倍程度）</p>
                        </div>

                        <h5><strong>方法2: Google マップを使用</strong></h5>
                        <ol>
                            <li><a href="https://www.google.com/maps" target="_blank">Google マップ</a>を開く</li>
                            <li>目的の場所を検索または地図上をクリック</li>
                            <li>表示される座標（例：35.6583, 139.6972）をメモ</li>
                            <li>最初の数値が緯度（latitude）、2番目が経度（longitude）</li>
                        </ol>
                        <p><strong>メリット:</strong> Claude Codeのトークンを消費せず、無料で正確な座標を取得可能</p>
                    </div>

                    <div class="best-practices">
                        <h4>💡 地点変更のコツ</h4>
                        <ul>
                            <li><strong>正確性:</strong> 座標は小数点第4位まで正確に入力</li>
                            <li><strong>動作確認:</strong> 変更後は必ずビルド・実行して動作を確認</li>
                            <li><strong>複数地点:</strong> 将来的に複数地点対応も可能（Claude Codeに拡張を依頼）</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="step" id="step5">
                <div class="step-number">5</div>
                <h2>エラー修正（Claude Code活用）</h2>

                <div class="best-practices">
                    <h4>重要原則</h4>
                    <p>エラーが発生した場合、手動でコードを修正せずに、Claude Codeに修正を依頼することを強く推奨します。</p>
                </div>

                <h3>5.1 データモデルエラーの場合</h3>
                <p>「Value of type 'WeatherData' has no member 'current'」などのエラーが表示された場合：</p>
                <div class="error-example">
                    <pre><code>WeatherDataモデルでエラーが発生しています。OpenWeatherMap One Call API 3.0のレスポンス構造に合わせてWeatherDataモデルを修正してください。

エラー内容：
[具体的なエラーメッセージをコピー&ペースト]

APIレスポンスの構造に合わせて、すべての関連ファイルを修正してください。</code></pre>
                </div>

                <h3>5.2 プロパティアクセスエラーの場合</h3>
                <p>「has no member 'temperature'」などのエラーが複数表示された場合：</p>
                <div class="error-example">
                    <pre><code>複数のファイルでプロパティアクセスエラーが発生しています。WeatherDataの新しい構造に合わせて、すべてのViewファイルとManagerファイルを修正してください。

発生しているエラー：
- MenuBarView: プロパティアクセスエラー
- DetailView: プロパティアクセスエラー  
- WeatherManager: 型の不一致エラー

すべてのファイルを一括で修正してください。</code></pre>
                </div>

                <h3>5.3 型エラー・APIエラーの場合</h3>
                <div class="error-example">
                    <pre><code>以下の型エラーが発生しています。すべて修正してください：

[Xcodeのエラーメッセージをコピー&ペースト]

関連するすべてのファイルの型の不一致を解決し、ビルドが成功するよう修正してください。</code></pre>
                </div>

                <h3>5.4 プロジェクト破損の場合</h3>
                <div class="error-example">
                    <pre><code>WeatherMenuBarプロジェクトが破損しています。以下のエラーが発生しています：

エラー内容：
[具体的なエラーメッセージをコピー&ペースト]

プロジェクトファイルを修復または再生成してください。既存のアプリは動作しているので、そのまま保持しつつ、プロジェクトの修復を行ってください。</code></pre>
                </div>

                <div class="best-practices">
                    <h4>エラー修正のベストプラクティス</h4>
                    <ul>
                        <li>エラーメッセージを正確にコピーして Claude Code に伝える</li>
                        <li>複数のエラーがある場合は、すべてまとめて修正を依頼</li>
                        <li>手動修正は避け、Claude Code の自動修正に任せる</li>
                        <li>修正後は必ずビルドして確認する</li>
                    </ul>
                </div>
            </div>

            <div class="step" id="step6">
                <div class="step-number">6</div>
                <h2>ビルド・実行</h2>

                <h3>6.1 テスト実行</h3>
                <div class="substep">
                    <ol>
                        <li>Xcode上部の <strong>▶️ ボタン</strong> をクリック</li>
                        <li>または <strong>Cmd + R</strong> でビルド・実行</li>
                        <li>エラーが発生した場合、Claude Codeに修正を依頼</li>
                    </ol>
                </div>

                <h3>6.2 動作確認</h3>
                <div class="feature-showcase">
                    <h4>確認ポイント</h4>
                    <ul>
                        <li>メニューバー右上に気温が小数点第一位まで表示される（例：32.5°C）</li>
                        <li>クリックすると詳細な天気情報が表示される</li>
                        <li>10分ごとに自動更新される</li>
                        <li>自作アイコンが表示されているか確認</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        function copyToClipboard(button, textId) {
            const textElement = document.getElementById(textId);
            const textToCopy = textElement.textContent || textElement.innerText;
            
            // Clipboard APIを使用してテキストをコピー
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(textToCopy).then(() => {
                    showCopySuccess(button);
                }).catch(() => {
                    fallbackCopyToClipboard(textToCopy, button);
                });
            } else {
                // フォールバック方法
                fallbackCopyToClipboard(textToCopy, button);
            }
        }

        function fallbackCopyToClipboard(text, button) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopySuccess(button);
            } catch (err) {
                console.error('コピーに失敗しました:', err);
                button.textContent = '❌ エラー';
                setTimeout(() => {
                    button.textContent = '📋 コピー';
                }, 2000);
            } finally {
                document.body.removeChild(textArea);
            }
        }

        function showCopySuccess(button) {
            button.textContent = '✅ コピー完了!';
            button.classList.add('copied');
            setTimeout(() => {
                button.textContent = '📋 コピー';
                button.classList.remove('copied');
            }, 2000);
        }
    </script>
</body>
</html>